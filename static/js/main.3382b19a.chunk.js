(this["webpackJsonpguess-a-painting"]=this["webpackJsonpguess-a-painting"]||[]).push([[0],{23:function(e,t,n){e.exports=n(33)},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(6),c=n.n(r),o=n(8),i=n.n(o),s=n(11),u=n(19),m=n(5);function d(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var f=n(35),E=n(38),h=n(36),b=n(37),p=(n(39),function(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),o=Object(m.a)(c,2),p=o[0],g=o[1],y=Object(a.useState)(null),v=Object(m.a)(y,2),x=v[0],w=v[1],_=Object(a.useState)(!1),j=Object(m.a)(_,2),k=j[0],O=j[1],B=Object(a.useState)(!1),I=Object(m.a)(B,2),L=I[0],N=I[1],S=Object(a.useState)(!1),C=Object(m.a)(S,2),P=C[0],M=C[1],A=function(){document.getElementById("hint-style").innerHTML="".concat(p.data.style_title)},q=function(e){return new Promise((function(t){console.log("Search is being performed ..."),fetch("https://api.artic.edu/api/v1/artworks/search?query[term][is_public_domain]=true&".concat(e)).then((function(e){return e.json()})).then((function(e){console.log(e),t(e)}))}))},H=function(e){return new Promise((function(t){console.log("Art entry is being fetched ..."),fetch("https://api.artic.edu/api/v1/artworks/".concat(e)).then((function(e){return e.json()})).then((function(e){console.log(e),t(e)}))}))},J=function(e){var t=e.config.iiif_url+"/"+e.data.image_id+"/full/843,/0/default.jpg";return new Promise((function(e){console.log("Image is being fetched..."),fetch(t).then((function(t){console.log(t.url),e(t.url)}))}))},T=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!1),N(!1),t=n.data[d(1,n.data.length)],e.next=5,Promise.all([new Promise((function(e){var t=document.getElementById("overlay");t.addEventListener("animationend",(function n(){t.removeEventListener("animationend",n),e("Animation ended, callback function removed")})),t.classList.remove("fadeout"),t.classList.add("fadein")})),H(t.id)]);case 5:return a=e.sent,console.log(a[1]),e.next=9,J(a[1]);case 9:l=e.sent,console.log(l),document.getElementById("hint-style").innerHTML="\u041a\u0430\u043a\u043e\u0439 \u044d\u0442\u043e \u0441\u0442\u0438\u043b\u044c \u0436\u0438\u0432\u043e\u043f\u0438\u0441\u0438?",Object(u.a)(document.querySelectorAll("button")).forEach((function(e){return e.blur()})),console.log(a[1].data.style_title),g(a[1]),w(l),document.getElementById("overlay").classList.remove("fadein"),document.getElementById("overlay").classList.add("fadeout");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t,a,l,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"limit=100&fields=id,date_start,style_title",e.next=3,q("limit=100&fields=id,date_start,style_title");case 3:return t=e.sent,console.log(t),a={preference:t.preference,pagination:t.pagination,data:t.data.filter((function(e){return e.date_start>=1e3&&null!==e.style_title})),info:t.info,license_links:t.license_links,version:t.version},r(a),console.log(n),console.log(a),l=a.data[d(1,a.data.length)],e.next=12,H(l.id);case 12:return c=e.sent,console.log(c),console.log(c.data.style_title),g(c),e.next=18,J(c);case 18:o=e.sent,console.log(o),w(o),document.getElementById("overlay").classList.remove("fadein"),document.getElementById("overlay").classList.add("fadeout");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}();var t=document.getElementById("overlay");t.onanimationstart=function(e){console.log("Start of ".concat(e.animationName," animation"))},t.onanimationend=function(e){console.log("End of ".concat(e.animationName," animation"))}}),[]),l.a.createElement("div",{id:"flex-wrapper"},l.a.createElement("header",{className:"bg-dark text-center"},l.a.createElement(f.a,{fluid:!0,className:"d-flex h-100 text-center",style:{maxWidth:"700px"}},l.a.createElement("h3",{id:"hint-style",className:"m-auto"},"\u041a\u0430\u043a\u043e\u0439 \u044d\u0442\u043e \u0441\u0442\u0438\u043b\u044c \u0436\u0438\u0432\u043e\u043f\u0438\u0441\u0438?"))),l.a.createElement("main",{id:"box",className:"text-center center-all text-white",style:{backgroundImage:"url(".concat(x,")")}},l.a.createElement(E.a,{bsPrefix:"toast toast-semi-transparent",onClose:function(){return O(!1)},show:k,delay:5e3,autohide:!0},l.a.createElement(E.a.Body,null,"\u042d\u044d\u044d... \u043d\u0435 \u0441\u043e\u0432\u0441\u0435\u043c.",l.a.createElement("br",null),"\u041c\u043e\u0436\u0435\u0442, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437?")),l.a.createElement(E.a,{bsPrefix:"toast toast-semi-transparent",onClose:function(){return N(!1)},show:L},l.a.createElement(E.a.Body,null,l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("h5",null,"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! \u042d\u0442\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442!"))),l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("h4",{id:"hint-artist"},p?p.data.title:"..."))),l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("h4",{id:"hint-title"},p?p.data.artist_display:"..."))))),l.a.createElement(E.a,{bsPrefix:"toast toast-semi-transparent",onClose:function(){return M(!1)},show:P},l.a.createElement(E.a.Body,null,l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("h5",null,"\u0412\u043e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"))),l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("h4",{id:"hint-artist"},p?p.data.title:"..."))),l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("h4",{id:"hint-title"},p?p.data.artist_display:"..."))))),l.a.createElement("div",{id:"overlay",className:"text-center center-all japan-spirit display-4"},l.a.createElement("h3",{className:""},"\u0423\u0433\u0430\u0434\u0430\u0439",l.a.createElement("br",null),"\u0421\u0442\u0438\u043b\u044c",l.a.createElement("br",null),"\u0416\u0438\u0432\u043e\u043f\u0438\u0441\u0438")),l.a.createElement("button",{className:"kc_fab_main_btn",onClick:function(){M(!0),A()}},"?")),l.a.createElement("footer",{className:"bg-dark"},l.a.createElement(f.a,{fluid:!0,style:{maxWidth:"700px"}},l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("input",{type:"text",id:"input-answer",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442 ..."}))),l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("button",{className:"btn btn btn-secondary btn-block mb-2",onClick:function(){!function(){var e=document.getElementById("input-answer").value.toLowerCase()===p.data.style_title.toLowerCase();return document.getElementById("input-answer").value="",e}()?O(!0):(A(),N(!0))}},"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c")),l.a.createElement(b.a,null,l.a.createElement("button",{className:"btn btn btn-secondary btn-block mb-2",onClick:function(){T()}},"\u0414\u0430\u043b\u044c\u0448\u0435"))))))}),g=function(){return l.a.createElement(p,null)};n(31),n(32);c.a.render(l.a.createElement(g,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.3382b19a.chunk.js.map